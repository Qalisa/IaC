apiVersion: v1
kind: Secret
metadata:
  name: odoo
  namespace: "{{ k8s__odoo_community__namespace }}"
stringData:
  odoo.conf: |
    [options]
    proxy_mode = True
    db_host = {{ k8s__odoo_community__db__name }}.{{ k8s__odoo_community__namespace }}.{{ iac__svc_cluster_host }}
    db_user = {{ k8s__odoo_community__db__config__username }}
    db_password = {{ k8s__odoo_community__db__config__password }}
    data_dir = /var/lib/odoo
    admin_passwd = {{ iac__postmaster_password }}
    ; csv_internal_sep = ,
    ; db_maxconn = 64
    db_name = {{ k8s__odoo_community__db__config__db_name }}
    ; db_template = template1
    ; dbfilter = .*
    ; debug_mode = False
    ; email_from = False
    ; limit_memory_hard = 2684354560
    ; limit_memory_soft = 2147483648
    ; limit_request = 8192
    ; limit_time_cpu = 60
    ; limit_time_real = 120
    ; list_db = True
    ; log_db = False
    ; log_handler = [':INFO']
    ; log_level = info
    ; logfile = None
    ; longpolling_port = 8072
    ; max_cron_threads = 2
    ; osv_memory_age_limit = 1.0
    ; osv_memory_count_limit = False
    smtp_password = {{ iac__donotreply_password }}
    smtp_port = {{ docker_mailserver__internal_smtp_preferred_port }}
    smtp_server = {{ docker_mailserver__internal_smtp_server }}
    smtp_ssl = True
    smtp_user = {{ iac__donotreply_username }}
    workers = 4
    ; xmlrpc = True
    ; xmlrpc_interface = 
    ; xmlrpc_port = 8069
    ; xmlrpcs = True
    ; xmlrpcs_interface = 
    ; xmlrpcs_port = 8071

