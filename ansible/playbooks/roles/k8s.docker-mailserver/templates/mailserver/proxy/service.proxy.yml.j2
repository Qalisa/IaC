apiVersion: v1
kind: Service
metadata:
  name: proxy
  namespace: docker-mailserver
  labels:
    app: docker-mailserver
spec:
  selector:
    app: docker-mailserver
  ports:
    # smtp
    - name: smtp-proxy
      port: 25
      targetPort: smtp-proxy
      protocol: TCP
    # submissions (ESMTP with implicit TLS)
    - name: subs-proxy
      port: 465
      targetPort: subs-proxy
      protocol: TCP
    # submission (ESMTP with explicit TLS)
    - name: sub-proxy
      port: 587
      targetPort: sub-proxy
      protocol: TCP
    # imap (explicit TLS)
    - name: imap-proxy
      port: 143
      targetPort: imap-proxy
      protocol: TCP
    # imaps (implicit TLS)
    - name: imaps-proxy
      port: 993
      targetPort: imaps-proxy
      protocol: TCP
